<html>
	<head>
		<title>SES Test</title>
		<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
		<script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
		<style>
		  #error1, #error2, #error3 {
			background-color: #ffffffdd;
			border-radius: 16px;
			padding: 16px;
			position: absolute;
			left: 50%;
			top: 50%;
			transform: translate3d(-50%, -50%, 0);
			transition: opacity 0.3s;
		  }
		  #error1.hide, #error2.hide, #error3.hide {
			opacity: 0;
			visibility: hidden;
			transition: visibility 2s, opacity 1s 1s;
		  }
		</style>
	</head>
	<body>
		<h1>SES Tests</h1>
		<div>
			<h2>AR Link iOS only</h2>
			<a id="ar-dummy-link" 
			   href="https://jayh13.github.io/17573A-1001/6c79d850-762e-3244-9642-fd3955b37c69.usdz" 
			   type="model/vnd.usdz+zip" rel="ar">
				Click me
			</a>
		</div>
		<div>
			<h2>Download AR Link iOS only</h2>
			<a href="https://jayh13.github.io/17573A-1001/6c79d850-762e-3244-9642-fd3955b37c69.usdz">
				Click me
			</a>
		</div>
		<!-- div>
			<h2>Model Viewer with GLTF</h2>
			<model-viewer  id="model-viewer1" 
				src="/17573A-1001/6c79d850-762e-3244-9642-fd3955b37c69.gltf" 
				ios-src="/17573A-1001/6c79d850-762e-3244-9642-fd3955b37c69.usdz" 
				ar ar-modes="webxr scene-viewer quick-look" ar-scale="auto" camera-controls 
				quick-look-browsers="safari chrome"
				style='width: 80%; height: 500px;'>
			  <div id="error1" class="hide">AR is not supported on this device</div>
			</model-viewer>
		</div>
		<div>
			<h2>Model Viewer with GLB</h2>
			<model-viewer  id="model-viewer2" 
				src="/17573A-1001/6c79d850-762e-3244-9642-fd3955b37c69.glb" 
				ios-src="/17573A-1001/6c79d850-762e-3244-9642-fd3955b37c69.usdz" 
				ar ar-modes="scene-viewer webxr quick-look" ar-scale="auto" camera-controls 
				quick-look-browsers="safari chrome"
				style='width: 80%; height: 500px;'>
			  <div id="error2" class="hide">AR is not supported on this device</div>
			</model-viewer>
		</div>
		<div>
			<h2>Model Viewer with GLB</h2>
			<model-viewer  id="model-viewer3" 
				src="/17573A-1001/6c79d850-762e-3244-9642-fd3955b37c69.glb" 
				ios-src="/17573A-1001/6c79d850-762e-3244-9642-fd3955b37c69.usdz" 
				ar ar-modes="quick-look scene-viewer webxr" ar-scale="auto" camera-controls 
				quick-look-browsers="safari chrome"
				style='width: 80%; height: 500px;'>
			  <div id="error3" class="hide">AR is not supported on this device</div>
			</model-viewer>
		</div -->
		<script>
		  document.querySelector("#model-viewer1").addEventListener('ar-status', (event) => {
			if(event.detail.status === 'failed'){
			  const error = document.querySelector("#error1");
			  error.classList.remove('hide');
			  error.addEventListener('transitionend',(event) => {
				error.classList.add('hide');
			  });
			}
		  });
		  document.querySelector("#model-viewer2").addEventListener('ar-status', (event) => {
			if(event.detail.status === 'failed'){
			  const error = document.querySelector("#error2");
			  error.classList.remove('hide');
			  error.addEventListener('transitionend',(event) => {
				error.classList.add('hide');
			  });
			}
		  });
		  document.querySelector("#model-viewer3").addEventListener('ar-status', (event) => {
			if(event.detail.status === 'failed'){
			  const error = document.querySelector("#error3");
			  error.classList.remove('hide');
			  error.addEventListener('transitionend',(event) => {
				error.classList.add('hide');
			  });
			}
		  });
		</script>
	</body>
</html>